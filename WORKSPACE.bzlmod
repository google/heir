# TODO(#1446): Migrate remaining dependencies to bazelmod

load("@bazel_tools//tools/build_defs/repo:git.bzl", "git_repository")
load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")

# install dependencies for yosys/ABC circuit optimizers
http_archive(
    name = "rules_hdl",
    # Commit 2025-09-25, fixing dead links for some dependencies like ncurses
    strip_prefix = "bazel_rules_hdl-cf2bd95334741db74b39b47fa1d4622b0d45ce6c",
    url = "https://github.com/hdl/bazel_rules_hdl/archive/cf2bd95334741db74b39b47fa1d4622b0d45ce6c.tar.gz",
)

load("@rules_hdl//dependency_support/at_clifford_yosys:at_clifford_yosys.bzl", "at_clifford_yosys")
load("@rules_hdl//dependency_support/edu_berkeley_abc:edu_berkeley_abc.bzl", "edu_berkeley_abc")
load("@rules_hdl//dependency_support/org_gnu_gnulib:org_gnu_gnulib.bzl", "org_gnu_gnulib")
load("@rules_hdl//dependency_support/tk_tcl:tk_tcl.bzl", "tk_tcl")

edu_berkeley_abc()

tk_tcl()

org_gnu_gnulib()

at_clifford_yosys()

# OpenFHE backend and dependencies
git_repository(
    name = "openfhe",
    build_file = "//bazel/openfhe:openfhe.BUILD",
    # Currently v1.4 2025-08-18
    commit = "aa8a86e1143f1e47d4354bdd757080e903ba5875",
    patches = ["@heir//bazel/openfhe:add_config_core.patch"],
    remote = "https://github.com/openfheorg/openfhe-development.git",
)
